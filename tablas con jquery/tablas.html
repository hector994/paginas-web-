<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <title>Document</title>
</head>
<style>
    #content{
        position: absolute;
        min-height: 70%;
        width: 90%;
        top: 10%;
        left: 5%;

    }
    .selected{
        cursor: pointer;
    }
    .selected:hover{
        background-color: cyan;
        color: aqua;
    }
    .seleccionada{
        background-color: brown;
        color: aqua;
    }

</style>
<script>

    $(document).ready(function () {
       $('btnagregar').click(function () {
            agregar();
       });
       $('btneliminar').click(function () {
            eliminar(id_fila_selected);
       });
       $('btnelimtodo').click(function () {
            eliminaeTodasFilas();
       });
    });


    var cont = 0;
    var id_fila_selected = [];

    function agregar() {
        cont++;
        var fila = '<tr class="selected" id="fila' +  cont + '"onclick="seleccionar(this.id);"><td>' 
            +cont+ '</td> <td> asuna </td> <td>caracter de sword art online </td> </tr>'
            $('#tabla').append(fila);
            reordenar();
    }

    function seleccionar(id_fila){
        if ($('#'+id_fila).hasClass('seleccionada')) {
            $('#'+id_fila).removeClass('seleccionada');
        } else {
            $('#'+id_fila).addClass('seleccionada')
        }
        id_fila_selected.push(id_fila);
    }

    function reordenar() {
        var num =1;
        $('#tabla tbody tr').each(function () {
           $(this).find('td').eq(0).text(num);
           num++;
        });
    }
    function eliminar(id_fila){
        for (let i = 0; i < id_fila.length; i++) {
            $('#'+id_fila[i]).remove();
        }
        reordenar();
    }

    function eliminaeTodasFilas() {
        $('#tabla tbody tr').each(function () {
            $(this).remove();
        });
    }
</script>
<body>
    <div id="content">
        <label for="">Agregar fila de manera dinamica con jquery</label>
        <div class="btn-group">
            <button id="btnagregar" class="btn btn-info">Agregar</button>
            <button id="btneliminar" class="btn btn-warning">Eliminar</button>
            <button id="btnelimtodo" class="btn btn-danger">Eliminar todo</button>
        </div>

        <table id="tabla" class="table table-bordered">
            <tr>
                <td>#</td>
                <td>Peliculas</td>
                <td>descripcion</td>
            </tr>
        </table>
    </div>

    <script src="js/jquery-2.1.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
        integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
        integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
        crossorigin="anonymous"></script>

    <script src="js/bootstrap.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>

</html>